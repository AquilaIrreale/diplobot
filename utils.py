
  ############################################################################
  # Diplobot - play Diplomacy through Telegram                               #
  # Copyright (C) 2018 Simone Cimarelli a.k.a. AquilaIrreale                 #
  #                                                                          #
  # This program is free software: you can redistribute it and/or modify     #
  # it under the terms of the GNU Affero General Public License as published #
  # by the Free Software Foundation, either version 3 of the License, or     #
  # (at your option) any later version.                                      #
  #                                                                          #
  # This program is distributed in the hope that it will be useful,          #
  # but WITHOUT ANY WARRANTY; without even the implied warranty of           #
  # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the            #
  # GNU Affero General Public License for more details.                      #
  #                                                                          #
  # You should have received a copy of the GNU Affero General Public License #
  # along with this program.  If not, see <http://www.gnu.org/licenses/>.    #
  ############################################################################


from enum import Enum


class StrEnum(Enum):
    def _generate_next_value_(name, start, count, last_values):
        return name


def qmarks(n):
    return ",".join("?" * n)


def casefold_mapping(it):
    return {
        s.casefold(): s
        for s in it
    }


def make_grid(l):
    r3 = len(l) % 3
    r4 = len(l) % 4

    if r4 == 0:
        cols = 4
    elif r3 == 0:
        cols = 3
    else:
        cols = 3 if r3 > r4 else 4

    return [l[i:i+cols] for i in range(0, len(l), cols)]
